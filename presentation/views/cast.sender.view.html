<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>NerdTalk | Google Cast Presentation</title>

		<link rel="stylesheet" href="../css/app.css">

	</head>

	<body>

  <!--Libraries-->
  <script src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"></script>
  <script src="../lib/jquery/dist/jquery.min.js"></script>
  <script src="../lib/underscore/underscore-min.js"></script>
  <script src="../lib/reveal.js/js/reveal.min.js"></script>

  <!--Application-->
  <script src="../js/cast.app.js"></script>
  <script src="../js/cast.sender.js"></script>

  <!--View-->
  <script>

    (function(app) {

      app.CastSenderView = (function() {

        // View properties
        var castButton;
        var nextButton;
        var prevButton;

        // Initialize
        var init = function() {

          castButton = $('#cast-button');
          nextButton = $('#next-button');
          prevButton = $('#prev-button');

          addEventListeners();
        };

        // Event Listeners/Handlers
        var onCastButtonClick = function(e) {

          app.CastSender.requestSession();
        };

        var addEventListeners = function() {

          castButton.on('click', _.bind(onCastButtonClick, this));
          nextButton.on('click', _.bind(function() {

            var message = new app.CastMessage(app.CastMessageTypes.ACTION,
                                              {action: app.ActionTypes.NEXT});

            app.CastSender.sendMessage(message);

          }, this));

          prevButton.on('click', _.bind(function() {

            var message = new app.CastMessage(app.CastMessageTypes.ACTION,
                                              {action: app.ActionTypes.PREVIOUS});

            app.CastSender.sendMessage(message);

          }, this));

        };

        // Initialize on ready
        $(document).ready(_.bind(init, this));

      })();

    })(window.nt);

  </script>


  <div class="app-background"></div>
  <div class="button-container">
      <ul id="action-buttons">
      <li><a href="#" id="cast-button" class="action-button">CAST</a></li>
      <li><a href="#" id="prev-button" class="action-button">NEXT SLIDE</a></li>
      <li><a href="#" id="next-button" class="action-button">PREVIOUS SLIDE</a></li>
    </ul>
  </div>

	</body>

</html>